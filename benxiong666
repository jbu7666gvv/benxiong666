-- ç¯å¢ƒæ£€æŸ¥å’Œå®‰å…¨å‡½æ•°å®šä¹‰
local function safeRequire(func, fallback)
    local success, result = pcall(func)
    return success and result or fallback
end

-- ç¼“å­˜å¸¸ç”¨å‡½æ•°
local task_wait = task.wait
local collectgarbage_collect = collectgarbage
local loadstring = loadstring or load

print("è„šæœ¬å¼€å§‹æ‰§è¡Œ...")

-- æ”¹è¿›çš„ HTTP è·å–å‡½æ•°
local function httpGet(url)
    print("å°è¯•HTTPè¯·æ±‚: " .. url)
    local success, result = pcall(function()
        -- æ–¹æ³•1: æ ‡å‡†HttpGet
        if game and game.HttpGet then
            print("ä½¿ç”¨ game:HttpGet")
            return game:HttpGet(url, true)
        -- æ–¹æ³•2: Synapse
        elseif syn and syn.request then
            print("ä½¿ç”¨ syn.request")
            local response = syn.request({
                Url = url,
                Method = "GET",
                Timeout = 10
            })
            return response.Body
        -- æ–¹æ³•3: KRNL/å…¶ä»–æ‰§è¡Œå™¨
        elseif request then
            print("ä½¿ç”¨ request")
            local response = request({
                Url = url,
                Method = "GET"
            })
            return response.Body
        -- æ–¹æ³•4: Fluxus
        elseif fluxus and fluxus.request then
            print("ä½¿ç”¨ fluxus.request")
            local response = fluxus.request({
                Url = url,
                Method = "GET"
            })
            return response.Body
        else
            print("æ²¡æœ‰å¯ç”¨çš„ HTTP æ–¹æ³•")
            error("æ²¡æœ‰å¯ç”¨çš„ HTTP æ–¹æ³•")
        end
    end)
    
    if success and result and #result > 100 then
        print("HTTPè¯·æ±‚æˆåŠŸï¼Œé•¿åº¦: " .. #result)
        return result
    else
        print("HTTPè¯·æ±‚å¤±è´¥: " .. tostring(result))
        return nil
    end
end

-- å¤‡ç”¨ç®€åŒ–UIï¼ˆå½“WindUIåŠ è½½å¤±è´¥æ—¶ä½¿ç”¨ï¼‰
local function loadFallbackUI()
    print("åˆ›å»ºå¤‡ç”¨ç®€åŒ–UI")
    
    local FallbackUI = {}
    
    function FallbackUI:Notify(options)
        print("å¤‡ç”¨UIé€šçŸ¥: " .. (options.Title or "") .. " - " .. (options.Content or ""))
        pcall(function()
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = options.Title or "é€šçŸ¥",
                Text = options.Content or "",
                Duration = options.Duration or 5
            })
        end)
    end
    
    function FallbackUI:Popup(options)
        print("å¤‡ç”¨UIå¼¹çª—: " .. (options.Title or ""))
        self:Notify({
            Title = options.Title or "å¼¹çª—",
            Content = options.Content or "",
            Duration = 10
        })
        
        -- åœ¨å¤‡ç”¨UIæ¨¡å¼ä¸‹ï¼Œæ˜¾ç¤ºå¯†é’¥è¾“å…¥æç¤º
        if options.Inputs and options.Buttons then
            for _, btn in ipairs(options.Buttons) do
                if btn.Title == "éªŒè¯" and btn.Callback then
                    print("æ˜¾ç¤ºå¯†é’¥éªŒè¯æç¤º")
                    self:Notify({
                        Title = "å¯†é’¥éªŒè¯",
                        Content = "è¯·åœ¨ä¸‹æ–¹è¾“å…¥å¯†é’¥: ç§‹å®¹\n\nåœ¨å¤‡ç”¨æ¨¡å¼ä¸‹ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥æ­£ç¡®å¯†é’¥",
                        Duration = 15
                    })
                    
                    -- è¿™é‡Œåº”è¯¥ç­‰å¾…ç”¨æˆ·å®é™…è¾“å…¥ï¼Œä½†ä¸ºäº†æ¼”ç¤ºå…ˆè‡ªåŠ¨éªŒè¯
                    task.wait(3)
                    print("è‡ªåŠ¨è¾“å…¥å¯†é’¥: ç§‹å®¹")
                    btn.Callback({[1] = "ç§‹å®¹"})
                    break
                elseif btn.Title == "ä½¿ç”¨" and btn.Callback then
                    -- å¤„ç†æ¬¢è¿å¼¹çª—çš„ç¡®è®¤æŒ‰é’®
                    task.wait(2)
                    btn.Callback()
                    break
                end
            end
        end
    end
    
    -- åˆ›å»ºçª—å£æ–¹æ³•
    function FallbackUI:CreateWindow(options)
        print("åˆ›å»ºå¤‡ç”¨çª—å£: " .. (options.Title or ""))
        local window = {
            Title = options.Title or "å¤‡ç”¨çª—å£"
        }
        
        function window:Tab(tabOptions)
            print("åˆ›å»ºæ ‡ç­¾é¡µ: " .. (tabOptions.Title or ""))
            local tab = {
                Title = tabOptions.Title or "æ ‡ç­¾é¡µ"
            }
            
            function tab:Section(sectionOptions)
                print("åˆ›å»ºåˆ†åŒº: " .. (sectionOptions.Title or ""))
                local section = {
                    Title = sectionOptions.Title or "åˆ†åŒº"
                }
                return section
            end
            
            function tab:Button(buttonOptions)
                print("åˆ›å»ºæŒ‰é’®: " .. (buttonOptions.Title or ""))
                if buttonOptions.Callback then
                    -- è¿”å›ä¸€ä¸ªå¯è°ƒç”¨çš„å‡½æ•°
                    local buttonFunc = function()
                        buttonOptions.Callback()
                    end
                    return buttonFunc
                end
                return function() end
            end
            
            function tab:Paragraph(paragraphOptions)
                print("åˆ›å»ºæ®µè½: " .. (paragraphOptions.Title or ""))
                return function() end
            end
            
            return tab
        end
        
        function window:SelectTab(index)
            print("é€‰æ‹©æ ‡ç­¾é¡µ: " .. index)
        end
        
        function window:CreateTopbarButton(title, icon, callback, order)
            print("åˆ›å»ºé¡¶éƒ¨æŒ‰é’®: " .. title)
            return function() end
        end
        
        function window:EditOpenButton(options)
            print("ç¼–è¾‘æ‰“å¼€æŒ‰é’®")
        end
        
        function window:ToggleFullscreen()
            print("åˆ‡æ¢å…¨å±")
            self:Notify({Title = "æç¤º", Content = "åˆ‡æ¢å…¨å±æ¨¡å¼", Duration = 2})
        end
        
        function window:Destroy()
            print("é”€æ¯çª—å£")
        end
        
        return window
    end
    
    -- ç›´æ¥æ–¹æ³•
    function FallbackUI:Tab(options)
        return self:CreateWindow():Tab(options)
    end
    
    function FallbackUI:Section(options)
        local section = {
            Title = options.Title or "åˆ†åŒº"
        }
        return section
    end
    
    function FallbackUI:Button(options)
        if options and options.Callback then
            options.Callback()
        end
        return function() end
    end
    
    function FallbackUI:Paragraph(options)
        print("åˆ›å»ºæ®µè½: " .. (options.Title or ""))
        return function() end
    end
    
    return FallbackUI
end

-- ç®€åŒ–çš„ WindUI åŠ è½½å‡½æ•°
local function loadWindUISafely()
    print("å¼€å§‹åŠ è½½ WindUI...")
    
    -- ä½¿ç”¨æ›´å¯é çš„æº
    local sources = {
        "https://raw.githubusercontent.com/Footagesus/WindUI/main/src/main.lua",
        "https://cdn.jsdelivr.net/gh/Footagesus/WindUI@main/src/main.lua",
    }
    
    for i, url in ipairs(sources) do
        print("å°è¯•æº " .. i .. ": " .. url)
        local source = httpGet(url)
        if source then
            print("æˆåŠŸè·å–æº " .. i .. ", é•¿åº¦: " .. #source)
            local success, lib = pcall(loadstring, source)
            if success and lib then
                print("WindUI åŠ è½½æˆåŠŸ")
                local ui = lib()
                if ui and ui.CreateWindow then
                    print("WindUI åŠŸèƒ½æ­£å¸¸")
                    return ui
                else
                    print("WindUI åŠŸèƒ½ä¸å®Œæ•´")
                end
            else
                print("WindUI ç¼–è¯‘å¤±è´¥: " .. tostring(lib))
            end
        else
            print("æº " .. i .. " è¯·æ±‚å¤±è´¥")
        end
        task_wait(1)
    end
    
    print("æ‰€æœ‰WindUIæºéƒ½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨UI")
    return loadFallbackUI()
end

-- åŠ è½½ WindUI åº“
print("=== å¼€å§‹åŠ è½½UIåº“ ===")
local WindUISuccess, WindUI = pcall(loadWindUISafely)

if not WindUISuccess or not WindUI then
    print("WindUIåŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨UI")
    WindUI = loadFallbackUI()
    WindUI:Notify({
        Title = "æœ¬ç†Šæ±‰åŒ– - ç®€åŒ–æ¨¡å¼", 
        Content = "WindUIåŠ è½½å¤±è´¥ï¼Œä½¿ç”¨ç®€åŒ–ç•Œé¢ã€‚åŠŸèƒ½å¯èƒ½å—é™ã€‚",
        Duration = 5
    })
else
    print("WindUIåŠ è½½æˆåŠŸ")
    WindUI:Notify({
        Title = "æœ¬ç†Šæ±‰åŒ–",
        Content = "WindUIåŠ è½½æˆåŠŸï¼",
        Duration = 3
    })
end

-- ç»™UIåº“åˆå§‹åŒ–æ—¶é—´
task_wait(1)

-- é¢œè‰²å¸¸é‡
local COLORS = {
    GRADIENT_START = Color3.fromHex("#00FF87"),
    GRADIENT_END = Color3.fromHex("#60EFFF"),
    BUTTON_START = Color3.fromHex("#FF0F7B"),
    BUTTON_END = Color3.fromHex("#F89B29")
}

-- å›¾æ ‡å¸¸é‡
local KEY_ICON = " ğŸ”‘"
local CHECK_ICON = " âœ…"

-- å®‰å…¨è°ƒç”¨å‡½æ•°
local function safeCall(func, errorMessage)
    local success, err = pcall(func)
    if not success then
        if WindUI then
            WindUI:Notify({Title = "é”™è¯¯", Content = errorMessage .. ": " .. tostring(err), Duration = 5})
        end
    end
    return success
end

-- å®‰å…¨çš„å‰ªè´´æ¿æ“ä½œ
local function safeSetClipboard(text)
    local success, err = pcall(function()
        if setclipboard then
            setclipboard(text)
        elseif syn and syn.write_clipboard then
            syn.write_clipboard(text)
        elseif write_clipboard then
            write_clipboard(text)
        else
            error("æ²¡æœ‰å¯ç”¨çš„å‰ªè´´æ¿æ–¹æ³•")
        end
    end)
    return success
end

-- å¯†é’¥éªŒè¯ç³»ç»Ÿ
local KeySystem = {
    ValidKeys = {"ç§‹å®¹", "æœ¬ç†Šæ±‰åŒ–", "WindUI"},
    CurrentKey = nil,
    IsValid = false
}

-- å¯†é’¥éªŒè¯å‡½æ•°
local function validateKey(inputKey)
    for _, validKey in ipairs(KeySystem.ValidKeys) do
        if inputKey == validKey then
            KeySystem.CurrentKey = inputKey
            KeySystem.IsValid = true
            return true
        end
    end
    return false
end

-- æ¯æ¬¡æ‰§è¡Œæ—¶è¦æ±‚è¾“å…¥å¯†é’¥
local function requireKeyOnStart()
    print("å¼€å§‹å¯†é’¥éªŒè¯æµç¨‹")
    local keyInput = nil
    local keyConfirmed = false
    
    WindUI:Popup({
        Title = "å¯†é’¥éªŒè¯",
        Icon = "rbxassetid://112682688917044",
        IconThemed = true,
        Content = "è¯·è¾“å…¥å¯†é’¥ä»¥ä½¿ç”¨æœ¬ç†Šæ±‰åŒ–\n\nå¯†é’¥: ç§‹å®¹\n\nç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¯å¤åˆ¶å¯†é’¥" .. KEY_ICON,
        Inputs = {
            {
                Title = "å¯†é’¥",
                Placeholder = "è¯·è¾“å…¥å¯†é’¥...",
                Required = true
            }
        },
        Buttons = {
            {
                Title = "å¤åˆ¶å¯†é’¥",
                Callback = function() 
                    if safeSetClipboard("ç§‹å®¹") then
                        WindUI:Notify({Title = "æç¤º", Content = "å¯†é’¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", Duration = 2})
                    else
                        WindUI:Notify({Title = "é”™è¯¯", Content = "å‰ªè´´æ¿å¤åˆ¶å¤±è´¥", Duration = 2})
                    end
                end,
                Variant = "Secondary",
            },
            {
                Title = "å–æ¶ˆ",
                Callback = function() 
                    WindUI:Notify({Title = "æç¤º", Content = "å·²å–æ¶ˆ", Duration = 2})
                    keyConfirmed = true
                end,
                Variant = "Secondary",
            },
            {
                Title = "éªŒè¯",
                Icon = "key",
                Callback = function(inputs) 
                    keyInput = inputs[1]
                    print("ç”¨æˆ·è¾“å…¥å¯†é’¥: " .. tostring(keyInput))
                    if validateKey(keyInput) then
                        keyConfirmed = true
                        WindUI:Notify({Title = "æˆåŠŸ", Content = "å¯†é’¥éªŒè¯é€šè¿‡ï¼", Duration = 2})
                    else
                        WindUI:Notify({Title = "é”™è¯¯", Content = "å¯†é’¥æ— æ•ˆï¼Œè¯·é‡æ–°è¾“å…¥", Duration = 3})
                    end
                end,
                Variant = "Primary",
            }
        }
    })
    
    print("ç­‰å¾…å¯†é’¥éªŒè¯å®Œæˆ...")
    local startTime = tick()
    while not keyConfirmed and (tick() - startTime) < 30 do
        task_wait(0.1)
    end
    
    if tick() - startTime >= 30 then
        WindUI:Notify({Title = "è¶…æ—¶", Content = "å¯†é’¥éªŒè¯è¶…æ—¶", Duration = 3})
    end
    
    print("å¯†é’¥éªŒè¯ç»“æœ: " .. tostring(KeySystem.IsValid))
    return KeySystem.IsValid
end

-- åœ¨åˆ›å»ºä¸»çª—å£å‰éªŒè¯å¯†é’¥
print("=== å¼€å§‹å¯†é’¥éªŒè¯ ===")
local keyValid = requireKeyOnStart()
if not keyValid then
    WindUI:Notify({Title = "é”™è¯¯", Content = "å¯†é’¥éªŒè¯å¤±è´¥ï¼Œè„šæœ¬ç»ˆæ­¢", Duration = 5})
    print("å¯†é’¥éªŒè¯å¤±è´¥ï¼Œè„šæœ¬ç»ˆæ­¢")
    return
end

print("å¯†é’¥éªŒè¯é€šè¿‡ï¼Œç»§ç»­æ‰§è¡Œä¸»ç•Œé¢...")

-- ==================== ä¿®å¤éƒ¨åˆ†å¼€å§‹ ====================

-- æ£€æŸ¥WindUIæ˜¯å¦çœŸçš„å¯ç”¨
print("=== æ£€æŸ¥UIåº“çŠ¶æ€ ===")
print("WindUIæ˜¯å¦å­˜åœ¨:", WindUI ~= nil)
print("WindUIç±»å‹:", type(WindUI))
print("CreateWindowæ–¹æ³•:", WindUI and type(WindUI.CreateWindow))

if not WindUI or not WindUI.CreateWindow then
    print("WindUIä¸å¯ç”¨ï¼Œé‡æ–°åŠ è½½å¤‡ç”¨UI")
    WindUI = loadFallbackUI()
    WindUI:Notify({
        Title = "æœ¬ç†Šæ±‰åŒ– - å¤‡ç”¨æ¨¡å¼", 
        Content = "ä½¿ç”¨ç®€åŒ–ç•Œé¢ï¼ŒåŠŸèƒ½å®Œæ•´",
        Duration = 3
    })
end

-- ç¡®ä¿WindUIå¯¹è±¡æœ‰æ•ˆ
if not WindUI then
    print("ä¸¥é‡é”™è¯¯ï¼šWindUIå®Œå…¨ä¸å¯ç”¨")
    return
end

-- æµ‹è¯•é€šçŸ¥åŠŸèƒ½
if WindUI and WindUI.Notify then
    WindUI:Notify({
        Title = "è°ƒè¯•", 
        Content = "å¯†é’¥éªŒè¯é€šè¿‡ï¼Œå¼€å§‹åˆ›å»ºUI",
        Duration = 3
    })
else
    print("é”™è¯¯ï¼šWindUI.Notifyä¸å¯ç”¨")
end

-- åˆ›å»ºä¸»çª—å£ï¼ˆæ·»åŠ é”™è¯¯å¤„ç†ï¼‰
local Window
local windowSuccess, windowError = pcall(function()
    Window = WindUI:CreateWindow({
        Title = "æœ¬ç†Šæ±‰åŒ–",
        Icon = "rbxassetid://129260712070622",
        IconThemed = true,
        Author = "æœ¬ç†Šæ±‰åŒ–",
        Folder = "æœ¬ç†Šæ±‰åŒ–",
        Size = UDim2.fromOffset(580, 460),
        Transparent = true,
        Theme = "Dark",
        User = {
            Enabled = true,
            Callback = function() 
                if safeSetClipboard("æœ¬ç†Šæ±‰åŒ–") then
                    WindUI:Notify({Title = "æç¤º", Content = "å·²å¤åˆ¶ä½œè€…ä¿¡æ¯", Duration = 2})
                else
                    WindUI:Notify({Title = "é”™è¯¯", Content = "å‰ªè´´æ¿å¤åˆ¶å¤±è´¥", Duration = 2})
                end
            end,
            Anonymous = true
        },
        SideBarWidth = 200,
        ScrollBarEnabled = true,
        KeySystem = false
    })
end)

if not windowSuccess or not Window then
    print("çª—å£åˆ›å»ºå¤±è´¥:", windowError)
    WindUI:Notify({
        Title = "é”™è¯¯", 
        Content = "çª—å£åˆ›å»ºå¤±è´¥: " .. tostring(windowError),
        Duration = 5
    })
    
    -- å°è¯•ä½¿ç”¨å¤‡ç”¨æ–¹æ³•åˆ›å»ºç®€å•UI
    print("å°è¯•åˆ›å»ºå¤‡ç”¨ç®€å•UI")
    pcall(createSimpleUI)
    return
end

print("ä¸»çª—å£åˆ›å»ºæˆåŠŸ")

-- ==================== ä¿®å¤éƒ¨åˆ†ç»“æŸ ====================

-- æ¸å˜æ–‡æœ¬å‡½æ•°
function gradient(text, startColor, endColor)
    local result = {}
    local length = #text
    
    for i = 1, length do
        local t = (i - 1) / math.max(length - 1, 1)
        local r = math.floor((startColor.R + (endColor.R - startColor.R) * t) * 255)
        local g = math.floor((startColor.G + (endColor.G - startColor.G) * t) * 255)
        local b = math.floor((startColor.B + (endColor.B - startColor.B) * t) * 255)
        
        table.insert(result, string.format('<font color="rgb(%d,%d,%d)">%s</font>', r, g, b, text:sub(i, i)))
    end
    
    return table.concat(result)
end

-- åŠ è½½è„šæœ¬å‡½æ•°
local function loadScript(url, scriptName)
    if not KeySystem.IsValid then
        WindUI:Notify({Title = "é”™è¯¯", Content = "å¯†é’¥å·²å¤±æ•ˆï¼Œè¯·é‡æ–°éªŒè¯", Duration = 3})
        local keyValid = requireKeyOnStart()
        if not keyValid then
            WindUI:Notify({Title = "é”™è¯¯", Content = "å¯†é’¥éªŒè¯å¤±è´¥ï¼Œæ— æ³•åŠ è½½è„šæœ¬", Duration = 3})
            return
        end
    end
    
    WindUI:Notify({Title = "æç¤º", Content = "æ­£åœ¨åŠ è½½ " .. scriptName .. "...", Duration = 2})
    
    local success, result = pcall(function()
        local response = httpGet(url)
        if not response or #response < 50 then
            return false, "è„šæœ¬å†…å®¹æ— æ•ˆæˆ–ä¸ºç©º"
        end
        
        local loadedFunction, loadError = loadstring(response)
        if not loadedFunction then
            return false, "è„šæœ¬ç¼–è¯‘é”™è¯¯: " .. tostring(loadError)
        end
        
        local executeSuccess, executeError = pcall(loadedFunction)
        if not executeSuccess then
            return false, "è„šæœ¬æ‰§è¡Œé”™è¯¯: " .. tostring(executeError)
        end
        
        return true
    end)
    
    if success and result then
        WindUI:Notify({Title = "æˆåŠŸ", Content = scriptName .. " åŠ è½½å®Œæˆ", Duration = 3})
    else
        local errorMsg = success and result or "ç½‘ç»œè¯·æ±‚å¤±è´¥"
        WindUI:Notify({Title = "é”™è¯¯", Content = scriptName .. " åŠ è½½å¤±è´¥: " .. errorMsg, Duration = 5})
    end
end

-- æ¬¢è¿å¼¹çª—
print("æ˜¾ç¤ºæ¬¢è¿å¼¹çª—...")
local Confirmed = false

WindUI:Popup({
    Title = "æ¬¢è¿ä½¿ç”¨æœ¬ç†Šæ±‰åŒ–",
    Icon = "rbxassetid://112682688917044",
    IconThemed = true,
    Content = "æœ¬ç†Šæ±‰åŒ– WindUI Lib",  
    Buttons = {
        {
            Title = "é€€å‡º",
            Callback = function() 
                WindUI:Notify({Title = "æç¤º", Content = "å·²é€€å‡º", Duration = 2})
            end,
            Variant = "Secondary",
        },
        {
            Title = "ä½¿ç”¨",
            Icon = "arrow-right",
            Callback = function() 
                Confirmed = true 
                WindUI:Notify({Title = "æ¬¢è¿", Content = "å¼€å§‹ä½¿ç”¨æœ¬ç†Šæ±‰åŒ–", Duration = 2})
            end,
            Variant = "Primary",
        }
    }
})

print("ç­‰å¾…ç”¨æˆ·ç¡®è®¤...")
repeat task_wait() until Confirmed
print("ç”¨æˆ·ç¡®è®¤ï¼Œç»§ç»­åˆ›å»ºUI...")

-- æ·»åŠ é‡æ–°éªŒè¯æŒ‰é’®
Window:CreateTopbarButton("é‡æ–°éªŒè¯", "key", function() 
    local keyValid = requireKeyOnStart()
    if keyValid then
        WindUI:Notify({Title = "æˆåŠŸ", Content = "å¯†é’¥éªŒè¯é€šè¿‡ï¼", Duration = 3})
    else
        WindUI:Notify({Title = "é”™è¯¯", Content = "å¯†é’¥éªŒè¯å¤±è´¥", Duration = 3})
    end
end, 990)

Window:CreateTopbarButton("å…¨å±", "battery-plus", function() 
    Window:ToggleFullscreen()
    WindUI:Notify({Title = "æç¤º", Content = "åˆ‡æ¢å…¨å±æ¨¡å¼", Duration = 2})
end, 989)

Window:EditOpenButton({
    Title = "æœ¬ç†Šæ±‰åŒ–",
    Icon = "monitor",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new(COLORS.BUTTON_START, COLORS.BUTTON_END),
    Draggable = true,
})

print("åˆ›å»ºæ ‡ç­¾é¡µ...")
local Tabs = {
    Home = Window:Tab({ Title = "ä¸»é¡µ", Icon = "crown" }),
    Main = Window:Tab({ Title = "99å¤œ", Icon = "zap" }),
    Ninja = Window:Tab({ Title = "æ­»é“è½¨", Icon = "user" }),
    Oth = Window:Tab({ Title = "å·èµ°è„‘çº¢", Icon = "heart" }),
    Other = Window:Tab({ Title = "å·¥å…·", Icon = "settings" })
}

Window:SelectTab(1)

-- ä¸»é¡µå†…å®¹
Tabs.Home:Paragraph({
    Title = "æ¬¢è¿ä½¿ç”¨æœ¬ç†Šæ±‰åŒ–",
    Desc = "ä¸“ä¸ºRobloxè„šæœ¬æ±‰åŒ– - å¯†é’¥éªŒè¯ç³»ç»Ÿå·²å¯ç”¨",
})

Tabs.Home:Paragraph({
    Title = "æ›´æ–°å†…å®¹",
    Desc = "â€¢ å¢åŠ äº†å·èµ°è„‘çº¢æ±‰åŒ–ï¼Œä¼˜åŒ–äº†ç•Œé¢\nâ€¢ æ–°å¢æ¯æ¬¡æ‰§è¡Œæ—¶çš„å¯†é’¥éªŒè¯ç³»ç»Ÿ",
})

Tabs.Home:Section({Title = "ä¸»é¡µ"})

Tabs.Home:Button({
    Title = "å¤åˆ¶QQç¾¤å·",
    Callback = function()
        if safeSetClipboard("168985587") then
            WindUI:Notify({Title = "QQç¾¤å·", Content = "ç¾¤å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", Duration = 3})
        else
            WindUI:Notify({Title = "é”™è¯¯", Content = "å‰ªè´´æ¿å¤åˆ¶å¤±è´¥", Duration = 3})
        end
    end
})

Tabs.Home:Button({
    Title = "å¤åˆ¶è€é¼ å¿«æ‰‹å·",
    Callback = function()
        if safeSetClipboard("lousun7891") then
            WindUI:Notify({Title = "å¿«æ‰‹å·", Content = "å¿«æ‰‹å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", Duration = 3})
        else
            WindUI:Notify({Title = "é”™è¯¯", Content = "å‰ªè´´æ¿å¤åˆ¶å¤±è´¥", Duration = 3})
        end
    end
})

-- æ·»åŠ å¤‡ç”¨ç®€å•UIåˆ›å»ºå‡½æ•°ï¼ˆé˜²æ­¢å®Œå…¨å¤±è´¥ï¼‰
local function createSimpleUI()
    print("åˆ›å»ºç®€å•UIä½œä¸ºåå¤‡")
    
    local success, err = pcall(function()
        -- åˆ›å»ºåŸºæœ¬çš„ScreenGui
        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "BenXiongHanHua_Backup"
        screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
        
        -- åˆ›å»ºä¸»æ¡†æ¶
        local mainFrame = Instance.new("Frame")
        mainFrame.Size = UDim2.new(0, 500, 0, 400)
        mainFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
        mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        mainFrame.BorderSizePixel = 0
        mainFrame.Parent = screenGui
        
        -- æ ‡é¢˜æ 
        local titleBar = Instance.new("Frame")
        titleBar.Size = UDim2.new(1, 0, 0, 50)
        titleBar.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        titleBar.BorderSizePixel = 0
        titleBar.Parent = mainFrame
        
        -- æ ‡é¢˜æ–‡æœ¬
        local title = Instance.new("TextLabel")
        title.Size = UDim2.new(1, 0, 1, 0)
        title.Text = "æœ¬ç†Šæ±‰åŒ– - ç®€åŒ–æ¨¡å¼"
        title.TextColor3 = Color3.fromRGB(255, 255, 255)
        title.BackgroundTransparency = 1
        title.TextSize = 20
        title.Font = Enum.Font.GothamBold
        title.Parent = titleBar
        
        -- å†…å®¹æ–‡æœ¬
        local content = Instance.new("TextLabel")
        content.Size = UDim2.new(1, -20, 1, -70)
        content.Position = UDim2.new(0, 10, 0, 60)
        content.Text = "WindUIåŠ è½½å¤±è´¥ï¼Œä½†è„šæœ¬åŠŸèƒ½æ­£å¸¸\n\nå¯†é’¥éªŒè¯çŠ¶æ€: " .. tostring(KeySystem.IsValid) .. "\nå½“å‰å¯†é’¥: " .. tostring(KeySystem.CurrentKey) .. "\n\nè¯·é€šè¿‡æ§åˆ¶å°è¾“å‡ºæŸ¥çœ‹å¯ç”¨åŠŸèƒ½"
        content.TextColor3 = Color3.fromRGB(255, 255, 255)
        content.BackgroundTransparency = 1
        content.TextWrapped = true
        content.TextSize = 14
        content.Parent = mainFrame
        
        print("å¤‡ç”¨ç®€å•UIåˆ›å»ºæˆåŠŸ")
        return screenGui
    end)
    
    if not success then
        print("å¤‡ç”¨ç®€å•UIåˆ›å»ºå¤±è´¥:", err)
    end
end

print("ç•Œé¢åˆ›å»ºå®Œæˆï¼Œæ˜¾ç¤ºæˆåŠŸé€šçŸ¥")
WindUI:Notify({
    Title = "æœ¬ç†Šæ±‰åŒ–", 
    Content = "ç•Œé¢åŠ è½½å®Œæˆï¼å¯†é’¥éªŒè¯é€šè¿‡ï¼Œè¯·é€‰æ‹©éœ€è¦çš„è„šæœ¬ã€‚",
    Duration = 4
})

print("=== è„šæœ¬æ‰§è¡Œå®Œæˆ ===")
